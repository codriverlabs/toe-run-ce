# Default values for toe-operator

# Global settings
global:
  registry:
    type: ghcr  # local, ecr, ghcr
    # Base repository path - customers can override this for their ECR
    # Example: "123456789012.dkr.ecr.us-west-2.amazonaws.com/codriverlabs/ce"
    repository: "ghcr.io/codriverlabs/ce"
    imagePullSecrets: []
  namespace: toe-system

# Controller configuration
controller:
  enabled: true
  image:
    # Repository will be: global.registry.repository + "/toe-controller"
    tag: "1.1.4-beta"
    pullPolicy: IfNotPresent
  replicas: 1
  resources:
    limits:
      cpu: 500m
      memory: 128Mi
    requests:
      cpu: 10m
      memory: 64Mi

# Collector configuration
collector:
  enabled: true
  image:
    # Repository will be: global.registry.repository + "/toe-collector"
    tag: "1.1.4-beta"
    pullPolicy: IfNotPresent
  replicas: 1
  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 50m
      memory: 128Mi
  service:
    type: ClusterIP
    port: 8443
  storage:
    enabled: true
    size: 10Gi
    storageClass: ""

# PowerTool configurations
powertools:
  # Default tool configurations to install
  configs:
    aperf:
      enabled: true
      image:
        # Repository will be: global.registry.repository + "/toe-aperf"
        tag: "1.1.4-beta"

# RBAC configuration
rbac:
  create: true
  # Install built-in RBAC roles
  installBuiltinRoles: true

# Service Account configuration
serviceAccount:
  create: true
  annotations: {}
  # For EKS with IRSA, add the role ARN annotation:
  # annotations:
  #   eks.amazonaws.com/role-arn: arn:aws:iam::ACCOUNT:role/TOE-IRSA-Role

# Security settings
security:
  podSecurityPolicy:
    enabled: false
  networkPolicy:
    enabled: false

# ECR specific settings (when global.registry.type = ecr)
ecr:
  accountId: ""
  region: us-west-2
  # For EKS clusters, set useIRSA to true to avoid Docker secrets
  useIRSA: false
  secretName: ecr-secret

# Monitoring
monitoring:
  enabled: false
  serviceMonitor:
    enabled: false
